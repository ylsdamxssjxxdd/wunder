<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 2802.73px; background-color: white;" viewBox="0 0 2802.734375 267" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path d="M169.359,158L173.526,158C177.693,158,186.026,158,193.693,158C201.359,158,208.359,158,211.859,158L215.359,158" id="L_User_Resolve_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_User_Resolve_0" data-points="W3sieCI6MTY5LjM1OTM3NSwieSI6MTU4fSx7IngiOjE5NC4zNTkzNzUsInkiOjE1OH0seyJ4IjoyMTkuMzU5Mzc1LCJ5IjoxNTh9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M479.359,158L483.526,158C487.693,158,496.026,158,503.693,158C511.359,158,518.359,158,521.859,158L525.359,158" id="L_Resolve_Busy_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Resolve_Busy_0" data-points="W3sieCI6NDc5LjM1OTM3NSwieSI6MTU4fSx7IngiOjUwNC4zNTkzNzUsInkiOjE1OH0seyJ4Ijo1MjkuMzU5Mzc1LCJ5IjoxNTh9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M679.447,142.088L694.266,138.573C709.085,135.059,738.722,128.029,765.041,124.515C791.359,121,814.359,121,825.859,121L837.359,121" id="L_Busy_Queue_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Busy_Queue_0" data-points="W3sieCI6Njc5LjQ0NzQ1NzkwMTU1NDUsInkiOjE0Mi4wODgwODI5MDE1NTQ0fSx7IngiOjc2OC4zNTkzNzUsInkiOjEyMX0seyJ4Ijo4NDEuMzU5Mzc1LCJ5IjoxMjF9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1022.594,121L1026.76,121C1030.927,121,1039.26,121,1048.755,122.487C1058.25,123.975,1068.906,126.95,1074.234,128.437L1079.562,129.924" id="L_Queue_Worker_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Queue_Worker_0" data-points="W3sieCI6MTAyMi41OTM3NSwieSI6MTIxfSx7IngiOjEwNDcuNTkzNzUsInkiOjEyMX0seyJ4IjoxMDgzLjQxNTExODI0MzI0MzMsInkiOjEzMX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M679.447,173.912L694.266,177.427C709.085,180.941,738.722,187.971,780.81,191.485C822.898,195,877.438,195,923.977,195C970.516,195,1009.055,195,1033.652,193.513C1058.25,192.025,1068.906,189.05,1074.234,187.563L1079.562,186.076" id="L_Busy_Worker_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Busy_Worker_0" data-points="W3sieCI6Njc5LjQ0NzQ1NzkwMTU1NDUsInkiOjE3My45MTE5MTcwOTg0NDU2fSx7IngiOjc2OC4zNTkzNzUsInkiOjE5NX0seyJ4Ijo5MzEuOTc2NTYyNSwieSI6MTk1fSx7IngiOjEwNDcuNTkzNzUsInkiOjE5NX0seyJ4IjoxMDgzLjQxNTExODI0MzI0MzMsInkiOjE4NX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1287.672,158L1291.839,158C1296.005,158,1304.339,158,1312.005,158C1319.672,158,1326.672,158,1330.172,158L1333.672,158" id="L_Worker_Context_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Worker_Context_0" data-points="W3sieCI6MTI4Ny42NzE4NzUsInkiOjE1OH0seyJ4IjoxMzEyLjY3MTg3NSwieSI6MTU4fSx7IngiOjEzMzcuNjcxODc1LCJ5IjoxNTh9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1503.313,121.898L1507.479,120.081C1511.646,118.265,1519.979,114.633,1527.646,112.816C1535.313,111,1542.313,111,1545.813,111L1549.313,111" id="L_Context_Model_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Context_Model_0" data-points="W3sieCI6MTUwMy4zMTI1LCJ5IjoxMjEuODk3NzYxMDMxODA5M30seyJ4IjoxNTI4LjMxMjUsInkiOjExMX0seyJ4IjoxNTUzLjMxMjUsInkiOjExMX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1728.734,111L1732.901,111C1737.068,111,1745.401,111,1753.068,111C1760.734,111,1767.734,111,1771.234,111L1774.734,111" id="L_Model_Decision_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Model_Decision_0" data-points="W3sieCI6MTcyOC43MzQzNzUsInkiOjExMX0seyJ4IjoxNzUzLjczNDM3NSwieSI6MTExfSx7IngiOjE3NzguNzM0Mzc1LCJ5IjoxMTF9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1875.757,90.022L1888.753,82.852C1901.749,75.681,1927.742,61.341,1949.571,54.17C1971.401,47,1989.068,47,1997.901,47L2006.734,47" id="L_Decision_Plan_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Decision_Plan_0" data-points="W3sieCI6MTg3NS43NTY1OTcyMjIyMjIxLCJ5Ijo5MC4wMjIyMjIyMjIyMjIyM30seyJ4IjoxOTUzLjczNDM3NSwieSI6NDd9LHsieCI6MjAxMC43MzQzNzUsInkiOjQ3fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2270.734,47L2274.901,47C2279.068,47,2287.401,47,2303.068,47C2318.734,47,2341.734,47,2353.234,47L2364.734,47" id="L_Plan_Exec_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Plan_Exec_0" data-points="W3sieCI6MjI3MC43MzQzNzUsInkiOjQ3fSx7IngiOjIyOTUuNzM0Mzc1LCJ5Ijo0N30seyJ4IjoyMzY4LjczNDM3NSwieSI6NDd9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2492.734,47L2504.901,47C2517.068,47,2541.401,47,2569.084,60.561C2596.766,74.123,2627.799,101.245,2643.315,114.806L2658.831,128.368" id="L_Exec_Observe_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Exec_Observe_0" data-points="W3sieCI6MjQ5Mi43MzQzNzUsInkiOjQ3fSx7IngiOjI1NjUuNzM0Mzc1LCJ5Ijo0N30seyJ4IjoyNjYxLjg0MjQ4MzEwODEwOCwieSI6MTMxfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2658.784,185L2643.276,197.333C2627.767,209.667,2596.751,234.333,2558.743,246.667C2520.734,259,2475.734,259,2430.734,259C2385.734,259,2340.734,259,2292.401,259C2244.068,259,2192.401,259,2135.401,259C2078.401,259,2016.068,259,1965.568,259C1915.068,259,1876.401,259,1843.068,259C1809.734,259,1781.734,259,1748.949,259C1716.164,259,1678.594,259,1641.023,259C1603.453,259,1565.883,259,1536.553,249.122C1507.223,239.245,1486.134,219.49,1475.59,209.612L1465.045,199.735" id="L_Observe_Context_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Observe_Context_0" data-points="W3sieCI6MjY1OC43ODM4Nzk5NTA0OTUyLCJ5IjoxODV9LHsieCI6MjU2NS43MzQzNzUsInkiOjI1OX0seyJ4IjoyNDMwLjczNDM3NSwieSI6MjU5fSx7IngiOjIyOTUuNzM0Mzc1LCJ5IjoyNTl9LHsieCI6MjE0MC43MzQzNzUsInkiOjI1OX0seyJ4IjoxOTUzLjczNDM3NSwieSI6MjU5fSx7IngiOjE4MzcuNzM0Mzc1LCJ5IjoyNTl9LHsieCI6MTc1My43MzQzNzUsInkiOjI1OX0seyJ4IjoxNjQxLjAyMzQzNzUsInkiOjI1OX0seyJ4IjoxNTI4LjMxMjUsInkiOjI1OX0seyJ4IjoxNDYyLjEyNTc3MzUxNDg1MTUsInkiOjE5N31d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1875.757,131.978L1888.753,139.148C1901.749,146.319,1927.742,160.659,1949.571,167.83C1971.401,175,1989.068,175,1997.901,175L2006.734,175" id="L_Decision_Final_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Decision_Final_0" data-points="W3sieCI6MTg3NS43NTY1OTcyMjIyMjIxLCJ5IjoxMzEuOTc3Nzc3Nzc3Nzc3OH0seyJ4IjoxOTUzLjczNDM3NSwieSI6MTc1fSx7IngiOjIwMTAuNzM0Mzc1LCJ5IjoxNzV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2270.734,175L2274.901,175C2279.068,175,2287.401,175,2295.068,175C2302.734,175,2309.734,175,2313.234,175L2316.734,175" id="L_Final_Memory_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Final_Memory_0" data-points="W3sieCI6MjI3MC43MzQzNzUsInkiOjE3NX0seyJ4IjoyMjk1LjczNDM3NSwieSI6MTc1fSx7IngiOjIzMjAuNzM0Mzc1LCJ5IjoxNzV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_User_Resolve_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_Resolve_Busy_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(768.359375, 121)"><g class="label" data-id="L_Busy_Queue_0" transform="translate(-48, -12)"><foreignObject width="96" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>是且队列开启</p></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_Queue_Worker_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(931.9765625, 195)"><g class="label" data-id="L_Busy_Worker_0" transform="translate(-8, -12)"><foreignObject width="16" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>否</p></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_Worker_Context_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_Context_Model_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_Model_Decision_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1953.734375, 47)"><g class="label" data-id="L_Decision_Plan_0" transform="translate(-32, -12)"><foreignObject width="64" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>工具调用</p></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_Plan_Exec_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_Exec_Observe_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_Observe_Context_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1953.734375, 175)"><g class="label" data-id="L_Decision_Final_0" transform="translate(-32, -12)"><foreignObject width="64" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>最终回复</p></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_Final_Memory_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-User-0" transform="translate(88.6796875, 158)"><rect class="basic label-container" style="" x="-80.6796875" y="-39" width="161.359375" height="78"/><g class="label" style="" transform="translate(-50.6796875, -24)"><rect/><foreignObject width="101.359375" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>用户输入<br />user_round +1</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Resolve-1" transform="translate(349.359375, 158)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"/><g class="label" style="" transform="translate(-100, -24)"><rect/><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>解析 user_id agent_id session_id</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Busy-3" transform="translate(612.359375, 158)"><polygon points="83,0 166,-83 83,-166 0,-83" class="label-container" transform="translate(-82.5, 83)"/><g class="label" style="" transform="translate(-56, -12)"><rect/><foreignObject width="112" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>主会话是否繁忙</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Queue-5" transform="translate(931.9765625, 121)"><rect class="basic label-container" style="" x="-90.6171875" y="-27" width="181.234375" height="54"/><g class="label" style="" transform="translate(-60.6171875, -12)"><rect/><foreignObject width="121.234375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>写入 agent_tasks</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Worker-7" transform="translate(1180.1328125, 158)"><rect class="basic label-container" style="" x="-107.5390625" y="-27" width="215.078125" height="54"/><g class="label" style="" transform="translate(-77.5390625, -12)"><rect/><foreignObject width="155.078125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>AgentRuntime worker</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Context-11" transform="translate(1420.4921875, 158)"><rect class="basic label-container" style="" x="-82.8203125" y="-39" width="165.640625" height="78"/><g class="label" style="" transform="translate(-52.8203125, -24)"><rect/><foreignObject width="105.640625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>构建上下文<br />历史 工具 记忆</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Model-13" transform="translate(1641.0234375, 111)"><rect class="basic label-container" style="" x="-87.7109375" y="-39" width="175.421875" height="78"/><g class="label" style="" transform="translate(-57.7109375, -24)"><rect/><foreignObject width="115.421875" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>LLM 调用<br />model_round +1</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Decision-15" transform="translate(1837.734375, 111)"><polygon points="59,0 118,-59 59,-118 0,-59" class="label-container" transform="translate(-58.5, 59)"/><g class="label" style="" transform="translate(-32, -12)"><rect/><foreignObject width="64" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>输出类型</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Plan-17" transform="translate(2140.734375, 47)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"/><g class="label" style="" transform="translate(-100, -24)"><rect/><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>解析 tool_call/function_call</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Exec-19" transform="translate(2430.734375, 47)"><rect class="basic label-container" style="" x="-62" y="-27" width="124" height="54"/><g class="label" style="" transform="translate(-32, -12)"><rect/><foreignObject width="64" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>执行工具</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Observe-21" transform="translate(2692.734375, 158)"><rect class="basic label-container" style="" x="-102" y="-27" width="204" height="54"/><g class="label" style="" transform="translate(-72, -12)"><rect/><foreignObject width="144" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>结果回填与事件记录</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Final-25" transform="translate(2140.734375, 175)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"/><g class="label" style="" transform="translate(-100, -24)"><rect/><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>输出 final 并释放 session_locks</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Memory-27" transform="translate(2430.734375, 175)"><rect class="basic label-container" style="" x="-110" y="-27" width="220" height="54"/><g class="label" style="" transform="translate(-80, -12)"><rect/><foreignObject width="160" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>异步入队长期记忆总结</p></span></div></foreignObject></g></g></g></g></g></svg>