<svg xmlns="http://www.w3.org/2000/svg" width="1400" height="860" viewBox="0 0 1400 860">
  <defs>
    <style>
      text { font-family: "Segoe UI", "PingFang SC", "Microsoft YaHei", Arial, sans-serif; fill:#1f1f1f; }
      .title { font-size:20px; font-weight:700; }
      .cluster-title { font-size:18px; font-weight:700; }
      .node { rx:14; ry:14; stroke-width:2; }
      .label { font-size:15px; font-weight:600; }
      .small { font-size:13px; fill:#555; }
    </style>
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#666"/>
    </marker>
  </defs>

  <rect x="0" y="0" width="1400" height="860" fill="#ffffff"/>
  <text x="40" y="44" class="title">Wunder 部署拓扑（Desktop-first，端云协同）</text>

  <rect x="40" y="150" width="300" height="600" fill="#f0f5ff" stroke="#adc6ff" stroke-width="2" rx="16" ry="16"/>
  <text x="190" y="186" text-anchor="middle" class="cluster-title">访问层 / Access</text>

  <rect x="72" y="220" width="236" height="86" fill="#eef6ff" stroke="#5b8ff9" class="node"/>
  <text x="190" y="260" text-anchor="middle" class="label">Desktop App</text>
  <text x="190" y="282" text-anchor="middle" class="small">消息工作台</text>

  <rect x="72" y="334" width="236" height="86" fill="#eef6ff" stroke="#5b8ff9" class="node"/>
  <text x="190" y="374" text-anchor="middle" class="label">Web Frontend</text>
  <text x="190" y="396" text-anchor="middle" class="small">/app/home</text>

  <rect x="72" y="448" width="236" height="86" fill="#eef6ff" stroke="#5b8ff9" class="node"/>
  <text x="190" y="496" text-anchor="middle" class="label">API / SDK Client</text>

  <rect x="72" y="562" width="236" height="120" fill="#fff1f0" stroke="#ff7875" class="node"/>
  <text x="190" y="608" text-anchor="middle" class="label">remote_gateway 渠道</text>
  <text x="190" y="632" text-anchor="middle" class="small">外部信息入口（可选）</text>
  <text x="190" y="654" text-anchor="middle" class="small">渠道接入转发</text>

  <rect x="380" y="90" width="620" height="690" fill="#fff7e6" stroke="#ffd591" stroke-width="2" rx="16" ry="16"/>
  <text x="690" y="126" text-anchor="middle" class="cluster-title">运行层 / Runtime</text>

  <rect x="420" y="160" width="250" height="300" fill="#fffdf0" stroke="#ffd591" stroke-width="2" rx="14" ry="14"/>
  <text x="545" y="194" text-anchor="middle" class="label">本地端 / Edge</text>

  <rect x="444" y="212" width="202" height="88" fill="#fff7e6" stroke="#fa8c16" class="node"/>
  <text x="545" y="252" text-anchor="middle" class="label">Desktop Bridge</text>
  <text x="545" y="274" text-anchor="middle" class="small">127.0.0.1:18123</text>

  <rect x="444" y="322" width="202" height="88" fill="#fff7e6" stroke="#fa8c16" class="node"/>
  <text x="545" y="362" text-anchor="middle" class="label">Local Runtime</text>
  <text x="545" y="384" text-anchor="middle" class="small">Orchestrator + Tooling</text>

  <rect x="444" y="430" width="202" height="58" fill="#f5f5f5" stroke="#8c8c8c" class="node"/>
  <text x="545" y="466" text-anchor="middle" class="small">WUNDER_WORK / WUNDER_TEMPD</text>

  <rect x="700" y="480" width="260" height="260" fill="#f9f0ff" stroke="#d3adf7" stroke-width="2" rx="14" ry="14"/>
  <text x="830" y="514" text-anchor="middle" class="label">云端 / Server</text>

  <rect x="730" y="536" width="200" height="68" fill="#f9f0ff" stroke="#9254de" class="node"/>
  <text x="830" y="575" text-anchor="middle" class="label">wunder-server(api)</text>

  <rect x="730" y="624" width="200" height="48" fill="#f9f0ff" stroke="#9254de" class="node"/>
  <text x="830" y="654" text-anchor="middle" class="small">wunder-server(sandbox)</text>

  <rect x="730" y="684" width="94" height="40" fill="#f5f5f5" stroke="#8c8c8c" class="node"/>
  <text x="777" y="709" text-anchor="middle" class="small">Postgres</text>

  <rect x="836" y="684" width="94" height="40" fill="#f5f5f5" stroke="#8c8c8c" class="node"/>
  <text x="883" y="709" text-anchor="middle" class="small">Weaviate</text>

  <rect x="1040" y="200" width="320" height="420" fill="#f6ffed" stroke="#b7eb8f" stroke-width="2" rx="16" ry="16"/>
  <text x="1200" y="236" text-anchor="middle" class="cluster-title">外部能力层 / External</text>

  <rect x="1080" y="286" width="240" height="88" fill="#f6ffed" stroke="#73d13d" class="node"/>
  <text x="1200" y="326" text-anchor="middle" class="label">Capability Access</text>

  <rect x="1080" y="404" width="240" height="74" fill="#f6ffed" stroke="#73d13d" class="node"/>
  <text x="1200" y="448" text-anchor="middle" class="label">LLM API</text>

  <rect x="1080" y="500" width="240" height="74" fill="#f6ffed" stroke="#73d13d" class="node"/>
  <text x="1200" y="544" text-anchor="middle" class="label">MCP / A2A / Skills</text>

  <line x1="308" y1="263" x2="444" y2="256" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="308" y1="377" x2="730" y2="570" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="308" y1="491" x2="730" y2="570" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>

  <line x1="545" y1="300" x2="545" y2="322" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="545" y1="410" x2="545" y2="430" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>

  <line x1="830" y1="604" x2="830" y2="624" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="830" y1="604" x2="777" y2="684" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="830" y1="604" x2="883" y2="684" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>

  <line x1="646" y1="366" x2="1080" y2="330" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="930" y1="570" x2="1080" y2="330" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="1200" y1="374" x2="1200" y2="404" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="1200" y1="374" x2="1200" y2="500" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>

  <line x1="308" y1="622" x2="730" y2="570" stroke="#666" stroke-width="2" stroke-dasharray="8 6" marker-end="url(#arrow)"/>
  <line x1="308" y1="622" x2="444" y2="256" stroke="#666" stroke-width="2" stroke-dasharray="8 6" marker-end="url(#arrow)"/>
  <text x="468" y="606" class="small" fill="#a8071a">remote_gateway 渠道转发（可选）</text>
</svg>
