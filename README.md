# wunder
wunder ???????????????????????? API?MCP ??? Skills ?????????????????????? Rust (Axum) ?????? `/wunder`??????????????????????????????
<img width="1000" height="563" alt="wunder" src="https://github.com/user-attachments/assets/4e589030-f1fc-4e0c-91a7-3419eb39a046" />

## ????
?????????????????????????
- ????????????
- MCP ??????????
- Skills?????????
- ??????????????
- ?????????????
- ?????????????

wunder ??????? MCP ???`/wunder/mcp`???????????????

## 1. ????
- ???? `/wunder`??? SSE ?????????
- A2A ???? `/a2a` + `/.well-known/agent-card.json`????????????
- ????????? + MCP ?? + Skills + ??? + ??/????????? `tool_names` ???
- ??????? + ???????????????
- ??????? `user_id` ???????????????????
- ???????????????????????? `user_id` ????
- ??????`/` ???? + `/wunder/admin/monitor` ????????
- ?????/????/???????????????
- ??????????????????????

## 2. ????
### 2.1 ??????
???????`config/wunder-example.yaml` -> `config/wunder.yaml`
?????????`.env.example` -> `.env`???? `WUNDER_API_KEY`?`WUNDER_POSTGRES_DSN`?`WUNDER_SANDBOX_ENDPOINT` ??????

### 2.2 ????
x86
```bash
docker compose -f docker-compose.rust.x86.yml up
```
arm
```bash
docker compose -f docker-compose.rust.arm.yml up
```
????????????????????????

### 2.3 ?????????
??????
```
http://127.0.0.1:18000
```

### 2.4 ???????
??????
```
http://127.0.0.1:18001
```

## 3. ????
### 3.1 ?????
```
curl -X POST http://127.0.0.1:18000/wunder ^
  -H "Content-Type: application/json" ^
  -H "X-API-Key: <your-api-key>" ^
  -d "{"user_id":"u001","question":"??","stream":false}"
```

### 3.2 ?? SSE ??
```
curl -N -X POST http://127.0.0.1:18000/wunder ^
  -H "Content-Type: application/json" ^
  -H "X-API-Key: <your-api-key>" ^
  -H "Accept: text/event-stream" ^
  -d "{"user_id":"u001","question":"??","stream":true,"debug_payload":true}"
```
`debug_payload` ?? `/wunder` ???`/wunder/chat` ???????????

SSE ?????????
`progress`?`llm_request`?`llm_output_delta`?`llm_output`?`tool_call`?`tool_output_delta`?`tool_result`?`token_usage`?`context_usage`?`plan_update`?`question_panel`?`a2ui`?`final`?`error`

### 3.3 ??????
```
curl -X GET "http://127.0.0.1:18000/wunder/tools?user_id=u001" ^
  -H "X-API-Key: <your-api-key>"
```

## 4. API ????
?????
- `POST /wunder`
- `POST /wunder/system_prompt`
- `GET /wunder/tools`
- `GET /wunder/i18n`

????
- `/wunder/auth`
- `/wunder/chat/*`
- `/wunder/workspace/*`
- `/wunder/user_tools/*`

????
- `/wunder/admin/*`
- `/wunder/admin/throughput/*`
- `/wunder/admin/evaluation/*`
- `/wunder/admin/performance/sample`
- `/wunder/admin/memory/*`

?????
- `/a2a` + `/.well-known/agent-card.json`
- `/wunder/mcp`
- `/wunder/doc2md/convert`
- `/wunder/attachments/convert`
- `/wunder/temp_dir/*`

????? `docs/API??.md`?

## 5. ?????????
- ??????`workspaces/<user_id>`????????? `/workspaces/<user_id>/`??
- ????/????/??/???/??????????????? PostgreSQL??? SQLite??
- ?? `data/historys/` ??????????????
- ????????? `data/config/wunder.override.yaml`?
- ????????? `data/throughput`?

?? `user_id` ?????????HTTP 429??

## 6. Skills ? MCP
### 6.1 Skills
- Skills ??? `skills/` ? `EVA_SKILLS/` ???
- `SKILL.md` ??? YAML frontmatter??? `name/description/input_schema`???? `??/??/????`??
- ???????? `run.py`/`skill.py`/`main.py`??? `run(payload)` ???
- ?? `config/wunder.yaml` ? `/wunder/admin/skills` ???

### 6.2 MCP
- ? `config/wunder.yaml` + `data/config/wunder.override.yaml` ??? `mcp.servers`?
- ?????`/wunder/admin/mcp` ? `/wunder/admin/mcp/tools`?

## 7. ????
```
src/                 # Rust ???????
  api/               # /wunder?/a2a?admin APIs
  core/              # ??????i18n
  services/          # ??/LLM/MCP/???
  ops/               # ??/??/??
  sandbox/           # ?? client/server
  orchestrator/      # ????
  storage/           # PostgreSQL/SQLite ???
config/              # ????
prompts/             # ??/??/???????
workspaces/          # ?????
skills/              # ????
EVA_SKILLS/          # ????
knowledge/           # ???
temp_dir/            # ??????
web/                 # ???????
frontend/            # ????? (Vue3)
data/config/         # ???????
data/throughput/     # ???????
docs/                # ??/API/?????
```

## 8. ????
- ?????`docs/????.md`
- ?????`docs/????.md`
- API ???`docs/API??.md`
- ?????`docs/????.md`
- ?????`docs/????.md`
- ???????`docs/????.md`
