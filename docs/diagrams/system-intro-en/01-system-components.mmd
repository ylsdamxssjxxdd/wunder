flowchart LR
  Client[Client/Debug UI] -->|/wunder| API[Axum API Layer]
  API --> Orchestrator[Orchestrator Engine]
  Orchestrator --> Prompt[Prompt Builder]
  Orchestrator --> LLM[LLM Adapter]
  Orchestrator --> Tools[Tool Execution]
  Tools --> Builtin[Built-in Tools]
  Tools --> MCP[MCP Tools]
  Tools --> Skills[Skills]
  Tools --> KB[Knowledge Tools]
  Tools --> UserTools[Custom/Shared Tools]
  Builtin -->|Command/ptc| Sandbox[Shared Sandbox Service]
  Orchestrator --> Monitor[Session Monitoring]
  Orchestrator --> Storage[PostgreSQL/SQLite/Workspaces]
  Storage --> Workspaces[Multi-user Workspaces]
