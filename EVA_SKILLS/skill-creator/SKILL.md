---
名称: skill-creator
描述: 创建高质量技能的指南。当用户想创建新技能（或更新已有技能）以扩展 Wunder 的专业知识、工作流或工具集成能力时使用。
---

# 技能创建器

此技能用于指导创建高质量技能。

## 关于技能

技能是模块化、可复用的自包含包，用于为 Wunder 提供专业知识、工作流与工具支持。可以把技能理解为特定领域的“上手指南”，它让 Wunder 从通用助手转变为具备流程知识的专业助手。

### 技能能提供什么

1. 专用工作流 - 面向特定领域的多步骤流程
2. 工具集成 - 针对特定文件格式或 API 的操作说明
3. 领域知识 - 公司知识、数据模型、业务逻辑
4. 资源包 - 脚本、参考资料与资产，用于复杂或重复任务

## 核心原则

### 简洁最重要

上下文窗口是公共资源。技能与系统提示、对话历史、其他技能元数据和用户需求共享同一上下文。

**默认假设：Wunder 已经很聪明。** 只加入 Wunder 不具备的关键信息。对每条信息提出质疑：“Wunder 真的需要这段解释吗？”“这段文字值得占用 token 吗？”

优先使用简洁示例，而不是冗长说明。

### 设置合适的自由度

根据任务的脆弱程度与变化范围选择合适的自由度：

**高自由度（文本指导）**：当存在多种可行方案、需要基于上下文判断、或依赖启发式时使用。

**中自由度（伪代码或带参数脚本）**：当有推荐模式、允许一定变体、或配置影响结果时使用。

**低自由度（固定脚本、少参数）**：当操作脆弱易错、需要高度一致、或必须遵循固定序列时使用。

把 Wunder 想成在探索路径：狭窄悬崖小道需要明确护栏（低自由度），开阔草地允许多条路径（高自由度）。

### 技能结构

每个技能包含必需的 SKILL.md 和可选资源包：

```
skill-name/
|-- SKILL.md（必需）
|   |-- YAML frontmatter（必需）
|   |   |-- 名称:（必需）
|   |   `-- 描述:（必需）
|   `-- Markdown instructions（必需）
`-- Bundled Resources（可选）
    |-- scripts/          - 可执行脚本（Python/Bash 等）
    |-- references/       - 需按需加载的参考文档
    `-- assets/           - 输出用资源（模板、图标、字体等）
```

#### SKILL.md（必需）

每个 SKILL.md 包含：

- **Frontmatter**（YAML）：包含 `名称` 与 `描述`。这是触发技能的唯一依据，必须清晰描述技能内容与触发场景。
- **正文**（Markdown）：技能使用说明与指导，仅在技能触发后加载。

#### 资源包（可选）

##### Scripts（`scripts/`）

用于需要确定性可靠性或频繁复用的可执行代码（Python/Bash 等）。

- **适用场景**：同一段代码反复被写、或需要高可靠性
- **示例**：`scripts/rotate_pdf.py` 用于 PDF 旋转
- **优势**：省 token、确定性高、可直接执行无需加载
- **注意**：脚本仍可能需要被阅读以便修补或适配环境

##### References（`references/`）

按需加载的参考资料，用于支持 Wunder 的判断与操作。

- **适用场景**：Wunder 在执行任务时需要参考的文档
- **示例**：`references/finance.md`（财务 schema）、`references/mnda.md`（NDA 模板）、`references/policies.md`（公司政策）、`references/api_docs.md`（API 规范）
- **用途**：数据库 schema、API 文档、领域知识、公司政策、详细流程
- **优势**：保持 SKILL.md 精简，仅在需要时加载
- **最佳实践**：当文件较大（>10k 字）时，在 SKILL.md 给出 grep 搜索关键词
- **避免重复**：信息应在 SKILL.md 或 references 中二选一。除核心流程外，详细内容更适合放在 references，避免占用上下文。

##### Assets（`assets/`）

不加载进上下文，但用于输出结果的资源文件。

- **适用场景**：技能需要输出中使用的文件
- **示例**：`assets/logo.png`（品牌资产）、`assets/slides.pptx`（PPT 模板）、`assets/frontend-template/`（HTML/React 模板）、`assets/font.ttf`（字体）
- **用途**：模板、图片、图标、样板代码、字体、示例文档等
- **优势**：将输出资源与文档分离，避免上下文膨胀

#### 技能中不该包含的内容

技能只包含直接支持功能的必要文件，不要创建额外文档或辅助文件，例如：

- README.md
- INSTALLATION_GUIDE.md
- QUICK_REFERENCE.md
- CHANGELOG.md
- 等等

技能只需帮助 AI 代理完成任务，不应包含创建过程、测试流程或面向用户的文档。额外文档只会增加混乱与上下文负担。

### 渐进式披露原则

技能使用三层加载机制管理上下文：

1. **元数据（名称 + 描述）** - 始终加载（约 100 字）
2. **SKILL.md 正文** - 技能触发时加载（<5k 字）
3. **资源包** - 按需加载（脚本可直接执行，无需读入上下文）

#### 渐进式披露模式

SKILL.md 正文应保持在 500 行以内，避免上下文膨胀。接近上限时拆分内容，并在 SKILL.md 中明确引用与使用时机。

**关键原则：** 当技能支持多个变体/框架/选项时，只保留核心流程与选择指引，变体细节（模式、示例、配置）放到独立参考文件中。

**模式 1：高层指南 + 引用**

```markdown
# PDF 处理

## 快速开始

使用 pdfplumber 提取文本：
[代码示例]

## 高级功能

- **表单填写**：完整指南见 [FORMS.md](FORMS.md)
- **API 参考**：全部方法见 [REFERENCE.md](REFERENCE.md)
- **示例**：常见模式见 [EXAMPLES.md](EXAMPLES.md)
```

仅在需要时加载 FORMS.md、REFERENCE.md 或 EXAMPLES.md。

**模式 2：按领域组织**

当技能覆盖多个领域时，按领域拆分，避免加载无关内容：

```
bigquery-skill/
|-- SKILL.md（概览与导航）
`-- reference/
    |-- finance.md（收入、计费指标）
    |-- sales.md（机会、管道）
    |-- product.md（API 使用、功能）
    `-- marketing.md（活动、归因）
```

用户问销售指标时只加载 sales.md。

同样地，多云或多框架技能也可按变体拆分：

```
cloud-deploy/
|-- SKILL.md（工作流 + 供应商选择）
`-- references/
    |-- aws.md（AWS 部署模式）
    |-- gcp.md（GCP 部署模式）
    `-- azure.md（Azure 部署模式）
```

用户选择 AWS 时，只加载 aws.md。

**模式 3：条件细节**

基础内容 + 高级链接：

```markdown
# DOCX 处理

## 创建文档

新建文档使用 docx-js。详见 [DOCX-JS.md](DOCX-JS.md)。

## 编辑文档

简单修改可直接编辑 XML。

**修订跟踪**：详见 [REDLINING.md](REDLINING.md)
**OOXML 细节**：详见 [OOXML.md](OOXML.md)
```

只有在需要时才加载 REDLINING.md 或 OOXML.md。

**重要指南：**

- **避免深层嵌套引用** - reference 文件保持一层深度，均从 SKILL.md 直接链接。
- **结构化长文档** - 超过 100 行的参考文件应在顶部提供目录，便于快速理解范围。

## 技能创建流程

技能创建包含以下步骤：

1. 通过具体示例理解技能
2. 规划可复用内容（脚本、参考、资产）
3. 初始化技能（运行 init_skill.py）
4. 编辑技能（实现资源与编写 SKILL.md）
5. 打包技能（运行 package_skill.py）
6. 基于真实使用迭代

按顺序执行，除非明确不适用。

### 步骤 1：用具体示例理解技能

仅当技能用法已非常明确时才跳过。即使是已有技能，这一步也很有价值。

要创建有效技能，必须先清晰理解它的具体用法。理解可来源于用户示例，或基于用户反馈验证的生成示例。

例如，构建 image-editor 技能时，可提出：

- “image-editor 需要支持哪些功能？编辑、旋转还是更多？”
- “能给一些典型使用例子吗？”
- “我能想到用户会说‘去除红眼’或‘旋转图片’，还有其他用法吗？”
- “用户说什么话应该触发这个技能？”

为避免打扰用户，不要在一次消息里提出过多问题。先问最关键的问题，后续按需补充。

当你对技能应支持的功能有清晰共识时，此步骤可结束。

### 步骤 2：规划可复用内容

将具体示例转化为技能内容，逐条分析：

1. 从零执行该任务的具体流程
2. 判断哪些脚本/参考/资产可复用

示例：构建 `pdf-editor` 技能以处理“帮我旋转 PDF”：

1. 旋转 PDF 需要每次重写相同代码
2. 在技能中加入 `scripts/rotate_pdf.py` 会更高效

示例：设计 `frontend-webapp-builder` 技能以处理“做一个 todo 应用”“做一个步数仪表盘”：

1. 前端应用会重复相同的 HTML/React 模板
2. 在 `assets/hello-world/` 中存放模板更合适

示例：构建 `big-query` 技能以处理“今天有多少用户登录？”：

1. 每次都需重新发现表结构与关系
2. 使用 `references/schema.md` 记录 schema 更高效

通过分析具体例子，列出需要包含的可复用资源：脚本、参考、资产。

### 步骤 3：初始化技能

此时需要真正创建技能。

仅当技能已存在且只需迭代或打包时跳过，直接进入下一步。

从零创建时必须运行 `init_skill.py`，它会生成标准模板目录，保证结构完整且效率更高。

用法：

```bash
scripts/init_skill.py <skill-name> --path <output-directory>
```

脚本会：

- 在指定路径创建技能目录
- 生成包含 frontmatter 与 TODO 占位的 SKILL.md 模板
- 创建示例资源目录：`scripts/`、`references/`、`assets/`
- 在各目录创建示例文件（可修改或删除）

初始化后，根据需要定制或删除生成的文件。

### 步骤 4：编辑技能

编辑（新生成或已有）技能时，要记住这是给另一个 Wunder 使用的。提供对它有价值且不显而易见的信息，突出流程知识、领域细节与可复用资源。

#### 学习成熟设计模式

根据技能需求参考：

- **多步骤流程**：参考 references/workflows.md（顺序流程与条件逻辑）
- **输出格式或质量标准**：参考 references/output-patterns.md（模板与示例）

这些文件包含成熟的技能设计最佳实践。

#### 先落实可复用资源

实现时先创建 scripts/references/assets 等资源。此过程可能需要用户输入。例如实现 `brand-guidelines` 技能时，用户可能需要提供品牌资产或模板放入 `assets/`，或提供文档放入 `references/`。

新增脚本必须实际运行测试，确保无 bug 且输出符合预期。若脚本很多，只需测试代表性样本以平衡效率与可靠性。

不需要的示例文件与目录应删除。初始化脚本提供的示例仅用于结构展示。

#### 更新 SKILL.md

**写作规范：** 使用祈使/不定式语气。

##### Frontmatter

写 YAML frontmatter，包含 `名称` 与 `描述`：

- `名称`：技能名称
- `描述`：技能触发主依据，用于判断何时使用
  - 同时包含“技能做什么”和“何时使用”的信息
  - 所有触发信息必须写在 description 中，正文不会在触发前加载
  - `docx` 技能描述示例："全面的文档创建、编辑与分析，支持修订跟踪、批注、格式保留与文本提取。当需要处理专业文档（.docx）时使用：(1) 新建文档，(2) 修改或编辑内容，(3) 处理修订跟踪，(4) 添加批注，或其他文档任务"

YAML frontmatter 中不要包含其他字段。

##### 正文

编写技能与资源的使用说明。

### 步骤 5：打包技能

技能完成后必须打包为可分发的 .skill 文件。打包前会自动校验技能：

```bash
scripts/package_skill.py <path/to/skill-folder>
```

可指定输出目录：

```bash
scripts/package_skill.py <path/to/skill-folder> ./dist
```

打包脚本将：

1. **校验** 技能，检查：

   - YAML frontmatter 格式与必需字段
   - 命名规范与目录结构
   - description 完整性与质量
   - 文件组织与资源引用

2. **打包** 技能（若校验通过），生成 .skill 文件（如 `my-skill.skill`），包含全部文件并保持目录结构。该文件为 zip 格式，扩展名为 .skill。

若校验失败，将输出错误并停止打包。修复后重新运行打包命令。

### 步骤 6：迭代

测试技能后，用户可能提出改进需求，通常发生在首次使用后。

**迭代流程：**

1. 在真实任务中使用技能
2. 观察使用中的困难或低效
3. 判断 SKILL.md 或资源包应如何更新
4. 实施修改并再次测试
