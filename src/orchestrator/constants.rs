// 调度常量：统一历史压缩、SSE 与会话锁的关键参数。
pub const OBSERVATION_PREFIX: &str = "tool_response: ";
pub const COMPACTION_META_TYPE: &str = "compaction_summary";
pub const COMPACTION_RATIO: f64 = 0.9;
pub const COMPACTION_HISTORY_RATIO: f64 = 0.8;
pub const COMPACTION_OUTPUT_RESERVE: i64 = 1024;
pub const COMPACTION_SAFETY_MARGIN: i64 = 512;
pub const COMPACTION_SUMMARY_MAX_OUTPUT: i64 = 1024;
pub const COMPACTION_MIN_OBSERVATION_TOKENS: i64 = 128;
pub const COMPACTION_SUMMARY_MESSAGE_MAX_TOKENS: i64 = 2048;
pub const COMPACTION_FORCE_FALLBACK_LIMIT: i64 = 8192;
pub const COMPACTION_HARD_GUARD_TRIGGER_TOKENS: i64 = 12000;
pub const COMPACTION_HARD_GUARD_MAX_TRIGGER_TOKENS: i64 = 24000;
pub const COMPACTION_HARD_GUARD_TRIGGER_RATIO: f64 = 0.92;
pub const COMPACTION_HARD_GUARD_TARGET_RATIO: f64 = 0.72;
pub const ARTIFACT_INDEX_MAX_ITEMS: i64 = 200;
pub const SESSION_LOCK_TTL_S: f64 = 120.0;
pub const SESSION_LOCK_HEARTBEAT_S: f64 = 5.0;
pub const SESSION_LOCK_POLL_INTERVAL_S: f64 = 0.2;
pub const SESSION_LOCK_BUSY_RETRY_S: f64 = 0.8;
pub const STREAM_EVENT_QUEUE_SIZE: usize = 256;
pub const STREAM_EVENT_POLL_INTERVAL_S: f64 = 0.2;
pub const STREAM_EVENT_RESUME_POLL_INTERVAL_S: f64 = 0.08;
pub const STREAM_EVENT_RESUME_POLL_MAX_INTERVAL_S: f64 = 0.8;
pub const STREAM_EVENT_RESUME_POLL_BACKOFF_FACTOR: f64 = 1.6;
pub const STREAM_EVENT_RESUME_POLL_BACKOFF_AFTER: usize = 3;
pub const STREAM_EVENT_SLOW_CLIENT_QUEUE_WATERMARK: usize = 2;
pub const STREAM_EVENT_SLOW_CLIENT_WARN_INTERVAL_S: u64 = 3;
pub const STREAM_EVENT_FETCH_LIMIT: i64 = 200;
pub const STREAM_EVENT_TTL_S: f64 = 3600.0;
pub const STREAM_EVENT_CLEANUP_INTERVAL_S: f64 = 60.0;
pub const STREAM_EVENT_PERSIST_INTERVAL_MS: u64 = 80;
pub const STREAM_EVENT_PERSIST_CHARS: usize = 160;
pub const DEFAULT_LLM_TIMEOUT_S: u64 = 120;
pub const DEFAULT_TOOL_TIMEOUT_S: f64 = 120.0;
pub const MIN_TOOL_TIMEOUT_S: f64 = 1.0;

pub const DEFAULT_TOOL_PARALLELISM: usize = 4;
pub const TOOL_RESULT_HEAD_CHARS: usize = 2000;
pub const TOOL_RESULT_TAIL_CHARS: usize = 2000;
pub const TOOL_RESULT_MAX_CHARS: usize = TOOL_RESULT_HEAD_CHARS + TOOL_RESULT_TAIL_CHARS;
pub const TOOL_RESULT_TRUNCATION_MARKER: &str = "...(truncated)...";
pub const TOOL_RESULT_MAX_ARRAY_ITEMS: usize = 64;
pub const TOOL_RESULT_ARRAY_HEAD_ITEMS: usize = 24;
pub const TOOL_RESULT_ARRAY_TAIL_ITEMS: usize = 8;
