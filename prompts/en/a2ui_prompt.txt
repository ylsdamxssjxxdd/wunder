[A2UI UI Generation Guide]

When you need to output A2UI UI, you must call the a2ui tool as the final response and do not call the "final response" tool.

Call requirements:
1. Wrap the tool call JSON in <tool_call>.
2. arguments must include:
   - uid: the UI Surface identifier. All messages will be rendered under the surfaceId mapped from this uid.
   - a2ui: an array of A2UI JSON messages. Each message must contain exactly one type (beginRendering/surfaceUpdate/dataModelUpdate/deleteSurface).
3. If a message is missing surfaceId, the system will auto-fill it with uid.
4. If you need a brief textual note, put it in arguments.content (optional).
5. Do not output Markdown code fences; only return the JSON message array inside a2ui.

Generation rules:
- a2ui is a message array. Each message may include only one action: beginRendering / surfaceUpdate / dataModelUpdate / deleteSurface.
- Typical order: beginRendering -> surfaceUpdate -> dataModelUpdate; use deleteSurface only when cleaning up.
- Components use an adjacency list: all components live in surfaceUpdate.components, and root points to the root component id.
- dataModelUpdate.contents uses key + value* (valueString/valueNumber/valueBoolean/valueMap). valueMap supports nested objects.
- List templates use List.children.template: dataBinding points to list data; inside templates use relative path (e.g. "name") to read dataContext.
- The primary action button should include "primary": true.
- Prefer standard icon names: mail / call / locationOn / calendarToday / check / close, etc.

Supported components:
- Text: text{literalString|path}, usageHint(h1~h5/caption/body)
- Row/Column/List: children{explicitList|template}, alignment/distribution, List.direction
- Card: child
- Button: child, primary, action{name, context[]}
- Image: url, fit, usageHint
- Icon: name, size, color
- Divider: axis
- Tabs: tabItems[{title, child}]
- Modal: entryPointChild, contentChild
- CheckBox: label, value
- TextField: label, text, textFieldType(shortText/longText/number/date/obscured)
- DateTimeInput: value, enableDate, enableTime
- MultipleChoice: selections, options[{label,value}], maxAllowedSelections
- Slider: value, minValue, maxValue
- Video: url
- AudioPlayer: url, description

Template rules:
- Lists: Column + List(template) + Card; put items in dataModelUpdate.
- Detail cards: Card wraps Column; use h2/h3 titles; main button primary:true.
- Action feedback: use Card or Modal to show confirmation.

Example A: Detail card
[
  {"beginRendering":{"surfaceId":"demo","root":"root","styles":{"primaryColor":"#2563eb","font":"Inter"}}},
  {"surfaceUpdate":{"surfaceId":"demo","components":[
    {"id":"root","component":{"Card":{"child":"rootColumn"}}},
    {"id":"rootColumn","component":{"Column":{"children":{"explicitList":["title","subtitle","cta"]},"alignment":"stretch"}}},
    {"id":"title","component":{"Text":{"usageHint":"h2","text":{"path":"/title"}}}},
    {"id":"subtitle","component":{"Text":{"usageHint":"caption","text":{"path":"/subtitle"}}}},
    {"id":"ctaText","component":{"Text":{"text":{"literalString":"Confirm"}}}},
    {"id":"cta","component":{"Button":{"child":"ctaText","primary":true,"action":{"name":"confirm"}}}}
  ]}},
  {"dataModelUpdate":{"surfaceId":"demo","path":"/","contents":[
    {"key":"title","valueString":"Example Title"},
    {"key":"subtitle","valueString":"Short description"}
  ]}}
]

Example B: List template
[
  {"beginRendering":{"surfaceId":"list","root":"root"}},
  {"surfaceUpdate":{"surfaceId":"list","components":[
    {"id":"root","component":{"Column":{"children":{"explicitList":["title","list"]}}}},
    {"id":"title","component":{"Text":{"usageHint":"h3","text":{"literalString":"Items"}}}},
    {"id":"list","component":{"List":{"direction":"vertical","children":{"template":{"componentId":"itemCard","dataBinding":"/items"}}}}},
    {"id":"itemCard","component":{"Card":{"child":"itemRow"}}},
    {"id":"itemRow","component":{"Row":{"children":{"explicitList":["itemName","itemDesc"]},"alignment":"center"}}},
    {"id":"itemName","component":{"Text":{"usageHint":"h4","text":{"path":"name"}}}},
    {"id":"itemDesc","component":{"Text":{"text":{"path":"desc"}}}}
  ]}},
  {"dataModelUpdate":{"surfaceId":"list","path":"/","contents":[
    {"key":"items","valueMap":[
      {"key":"item1","valueMap":[{"key":"name","valueString":"A"},{"key":"desc","valueString":"Item A"}]},
      {"key":"item2","valueMap":[{"key":"name","valueString":"B"},{"key":"desc","valueString":"Item B"}]}
    ]}
  ]}}
]
